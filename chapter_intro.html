<!DOCTYPE html>
<html lang="en"><head>
<script src="chapter_intro_files/libs/clipboard/clipboard.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/tabby.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/popper.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="chapter_intro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="chapter_intro_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="chapter_intro_files/libs/quarto-html/quarto-syntax-highlighting-48ffa3e5b9d089919c6712c39e5b00f2.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.41">

  <meta name="author" content="Prof.&nbsp;Ji-Woong Chung">
  <title>Introduction and Overview</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="chapter_intro_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="chapter_intro_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="chapter_intro_files/libs/revealjs/dist/theme/quarto-8f3eebe07241f08526c91a7e9cbef8fd.css">
  <link href="chapter_intro_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="chapter_intro_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="chapter_intro_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="chapter_intro_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="chapter_intro_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="chapter_intro_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction and Overview</h1>
  <p class="subtitle">BUSS386 Futures and Options</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Prof.&nbsp;Ji-Woong Chung 
</div>
</div>
</div>

</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<ul>
<li>Overview of derivatives/markets</li>
<li>Review: measures of return and risk</li>
<li>Reading: §1.1–1.10 and 22.1–22.3</li>
</ul>
</section>
<section>
<section id="overview" class="title-slide slide level1 center">
<h1>Overview</h1>

</section>
<section id="what-are-derivatives" class="slide level2">
<h2>What are derivatives?</h2>
<ul>
<li>A derivative is a financial security (i.e., instrument, contract, asset) whose value depends on other underlying <strong>variables</strong>.</li>
<li>Example 1: A contract to buy 50,000 barrels of crude oil on September 16, 2017, for $50 per barrel.</li>
<li>Example 2: An option contract that gives the holder the right, but not the obligation, to buy 100 shares of a company’s stock at $100 per share within the next three months.</li>
</ul>
</section>
<section id="what-are-the-underlying-variables" class="slide level2">
<h2>What are the underlying variables?</h2>
<ul>
<li>Usually, the price of traded assets (e.g., equities, bonds, currencies, commodities)</li>
<li>Some properties of asset prices (e.g., volatility)</li>
<li>Certain events (e.g., default)</li>
<li>Other factors like weather (e.g., temperature, rainfall), inflation, etc.</li>
<li><span class="math inline">\(\Rightarrow\)</span> All variables should be measurable and observable.</li>
</ul>
</section>
<section id="type-of-derivatives" class="slide level2">
<h2>Type of derivatives</h2>
<ul>
<li><strong>Contract Derivatives</strong>
<ul>
<li>Examples: Futures, forwards, swaps, options, warrants, callable bonds (embedded), etc.</li>
<li>These contracts bind two counterparties to make a transaction at a future date. All profits and losses result from cash flows between the counterparties, making it a zero-sum game.</li>
</ul></li>
<li><strong>Securitized or Structured Products</strong>
<ul>
<li>Unlike contract derivatives, securitizations involve a pool or portfolio of underlying securities.</li>
<li>Securitization creates new derivative securities that allocate the cash flows from the underlying pool to different classes of investors based on their risk tolerance.</li>
<li>Examples: Collateralized mortgage obligations, asset-backed securities, etc.</li>
</ul></li>
<li><strong>Key Difference</strong>
<ul>
<li>A contract derivative <strong>transfers</strong> risk from one counterparty to the other.</li>
<li>A securitized derivative <strong>redistributes</strong> the risk inherent in the underlying assets among different investors.</li>
</ul></li>
</ul>
</section>
<section id="history-of-derivatives" class="slide level2">
<h2>History of derivatives</h2>
<ul>
<li><p>Derivatives have been used by farmers and merchants for thousands of years:</p>
<ul>
<li>Around 2000 B.C., derivatives were used in trade between India and the Arab Gulf.</li>
<li>In 300 B.C., olive growers in ancient Greece utilized derivatives.</li>
</ul></li>
<li><p>In the 12th century, European merchants used forward contracts for the future delivery of their goods.</p></li>
<li><p>During Amsterdam’s tulip mania in the 1630s, derivatives helped some merchants manage price swings.</p></li>
<li><p>In the 17th century, Japan developed a forward market in rice.</p></li>
<li><p>Modern developments:</p>
<ul>
<li>The Chicago Board of Trade (CBOT) was established in 1848 to trade futures.</li>
<li>The Chicago Mercantile Exchange (CME) was founded in 1919. (CBOT and CME later merged to form the CME Group).</li>
<li>The Chicago Board Options Exchange (CBOE) introduced call options in 1973 and put options in 1977.</li>
<li>In Korea, forex derivatives began trading in 1968, and exchanges were established in 1996.</li>
</ul></li>
</ul>
</section>
<section id="where-to-trade-derivatives" class="slide level2">
<h2>Where to trade derivatives</h2>
<p>Derivatives can be traded in two main types of markets:</p>
<p><strong><em>Exchange-Traded Market</em></strong></p>
<ul>
<li><strong>Centralized Trading</strong>: All buy and sell orders are centralized in one place, either physically or electronically.</li>
<li><strong>Standardized Contracts</strong>: Contracts are standardized, ensuring uniformity and reducing the risk of counterparty default.</li>
<li><strong>Types of Derivatives</strong>: Futures and options are commonly traded.</li>
<li><strong>Examples</strong>: Chicago Mercantile Exchange (CME), Chicago Board Options Exchange (CBOE), Hong Kong Exchanges and Clearing (HKEX).</li>
<li><strong>Liquidity</strong>: High concentration of trades creates liquidity, which in turn attracts more liquidity.</li>
</ul>
</section>
<section class="slide level2">

<p><strong><em>Over-the-Counter (OTC) Market</em></strong></p>
<ul>
<li><strong>Decentralized Trading</strong>: There is no central place for collecting orders. Participants trade directly with each other or through a network of dealers.</li>
<li><strong>Customizable Contracts</strong>: Contracts are not standardized and can be tailored to meet the specific needs of the participants.</li>
<li><strong>Main Participants</strong>: Large institutions such as banks, hedge funds, and corporations.</li>
<li><strong>Types of Derivatives</strong>: Forwards, swaps, options, and other customized derivatives are traded.</li>
</ul>
</section>
<section id="market-types-and-trading-volume" class="slide level2">
<h2>Market Types and Trading Volume</h2>

<img data-src="../img/intro_derivative_market_size.png" class="quarto-figure quarto-figure-center r-stretch"><div style="text-align: center; font-size: small;">
<p>Source: Bank for International Settlement</p>
</div>
</section>
<section id="what-contributed-to-rapid-growth" class="slide level2">
<h2>What contributed to rapid growth?</h2>
<p>“Necessity is the mother of invention” - Plato</p>
<ul>
<li>Deregulation, Increased Volatility, and Technological Innovation
<ul>
<li>Key academic contributions: Black and Scholes (1972), Merton (1973)</li>
<li>Major events:
<ul>
<li>1971: Currencies began to free float, leading to the introduction of currency futures in 1972.</li>
<li>1973: The oil shock caused significant volatility in oil prices.</li>
<li>1970s: Inflation and recessions resulted in volatile interest rates.</li>
<li>1978: Deregulation of natural gas.</li>
<li>1990s: Deregulation of electricity markets.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="why-are-derivatives-useful" class="slide level2">
<h2>Why are derivatives useful?</h2>
<ul>
<li>Derivatives enable the transfer of risk from those who are exposed to it to those who are more willing to bear it, making them an excellent tool for risk management.</li>
<li>While risk management often focuses on reducing risk, it can also involve taking on attractive risks.</li>
<li>By transferring risk through derivatives, productive activities that might otherwise be too risky can be undertaken.</li>
<li>However, derivatives also have the potential for misuse, which is why regulations are in place to prevent abuses.</li>
</ul>
<!-- Lucas lecture "0 06 What are derivatives useful" provide some examples. -->
</section>
<section id="dangers-of-derivatives-trading" class="slide level2">
<h2>Dangers of derivatives trading</h2>
<ul>
<li><p>Without proper risk management, derivatives trading can lead to significant losses. Here are some notable examples:</p>
<ul>
<li><strong>Société Générale (2008)</strong>: Jérôme Kerviel lost over $7 billion by speculating on the future direction of equity indices. <a href="https://en.wikipedia.org/wiki/2008_Soci%C3%A9t%C3%A9_G%C3%A9n%C3%A9rale_trading_loss">Source</a></li>
<li><strong>UBS (2011)</strong>: Kweku Adoboli lost $2.3 billion by taking unauthorized speculative positions in stock market indices. <a href="https://en.wikipedia.org/wiki/2011_UBS_rogue_trader_scandal">Source</a></li>
<li><strong>Shell (1993)</strong>: A single employee in the Japanese subsidiary of Shell lost $1 billion in unauthorized trading of currency futures. <a href="https://www.nytimes.com/1993/02/26/business/worldbusiness/IHT-shell-gains-despite-currency-fiasco.html">Source</a></li>
<li><strong>Barings Bank (1995)</strong>: Nick Leeson lost £827 million, leading to the bank’s collapse. <a href="https://en.wikipedia.org/wiki/Barings_Bank">Source</a></li>
<li><strong>Long-Term Capital Management (1998)</strong>: The hedge fund lost $4.6 billion due to high-risk arbitrage trading strategies. <a href="https://en.wikipedia.org/wiki/Long-Term_Capital_Management">Source</a></li>
<li><strong>AIG (2008)</strong>: AIG faced a liquidity crisis due to losses on credit default swaps, leading to a $182 billion government bailout. <a href="https://en.wikipedia.org/wiki/AIG">Source</a></li>
</ul></li>
<li><p>Effective risk management is crucial:</p>
<ul>
<li>Define risk parameters and set risk limits.</li>
<li>Conduct various scenario analyses to anticipate potential outcomes and mitigate risks.</li>
</ul></li>
</ul>
</section>
<section id="the-otc-market-prior-to-2008" class="slide level2 scrollable">
<h2>The OTC Market Prior to 2008</h2>
<ul>
<li>The OTC market was largely unregulated.</li>
<li>Banks acted as market makers, quoting bid and ask prices.</li>
<li>Transactions between two parties were usually governed by master agreements provided by the International Swaps and Derivatives Association (ISDA).<sup>1</sup></li>
<li>Some transactions were cleared through central counterparties (CCPs), which act as intermediaries between the two sides of a transaction, similar to an exchange.</li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>The ISDA is a trade organization of participants in the market for over-the-counter derivatives. ISDA has created a standardized contract (the ISDA Master Agreement) to govern derivative transactions, which helps to reduce legal and credit risks.</p></li></ol></aside></section>
<section id="changes-since-2008" class="slide level2">
<h2>Changes Since 2008</h2>
<ul>
<li>The OTC market has become more regulated with the following objectives:
<ul>
<li>Reduce systemic risk.</li>
<li>Increase transparency.</li>
</ul></li>
<li>In the U.S. and other countries, collateral and clearing of trades through a central clearing house (CCP) are required for all standard OTC contracts.</li>
<li>CCPs must be used to clear standardized transactions between financial institutions in most countries.</li>
<li>All trades must be reported to a central repository.</li>
</ul>
</section>
<section id="the-lehman-bankruptcy" class="slide level2">
<h2>The Lehman Bankruptcy</h2>
<ul>
<li>Lehman Brothers filed for bankruptcy on September 15, 2008, marking the largest bankruptcy in U.S. history.</li>
<li>Lehman was heavily involved in the OTC derivatives markets and faced financial difficulties due to high-risk activities and an inability to roll over its short-term funding.</li>
<li>The firm had hundreds of thousands of outstanding transactions with approximately 8,000 counterparties.</li>
<li>The process of unwinding these transactions has been challenging for both Lehman’s liquidators and their counterparties.</li>
</ul>
</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="../img/intro_centralclearing.png" class="quarto-figure quarto-figure-center r-stretch"><div style="text-align: center;">
<p><a href="https://www.bis.org/publ/otc_hy2311.htm">https://www.bis.org/publ/otc_hy2311.htm</a></p>
</div>
</section>
<section id="who-trades-derivatives" class="slide level2">
<h2>Who trades derivatives?</h2>
<p>Derivatives are traded by various market participants:</p>
<ul>
<li><strong>Corporations</strong>: Hedge future cash flows and manage risks (e.g., fuel futures for airlines).</li>
<li><strong>Financial Institutions</strong>: Manage risks and offer risk management solutions (e.g., interest rate swaps).</li>
<li><strong>Hedge Funds</strong>: Achieve higher returns through leverage and complex strategies.</li>
<li><strong>Market Makers (Dealers)</strong>: Provide liquidity and profit from bid-ask spreads.</li>
<li><strong>Financial Engineers</strong>: Design new derivative products to meet specific needs.</li>
</ul>
<p>Each participant contributes to the market’s depth and liquidity.</p>
</section></section>
<section>
<section id="measures-of-return-and-risk" class="title-slide slide level1 center">
<h1>Measures of Return and Risk</h1>

</section>
<section id="simple-return" class="slide level2">
<h2>Simple Return</h2>
<p>Suppose a stock price evolves as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>P0 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb1-2"><a href=""></a>P1 <span class="ot">&lt;-</span> <span class="dv">110</span></span>
<span id="cb1-3"><a href=""></a>P2 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb1-4"><a href=""></a></span>
<span id="cb1-5"><a href=""></a>R_t <span class="ot">&lt;-</span> P1 <span class="sc">/</span> P0</span>
<span id="cb1-6"><a href=""></a>r_t <span class="ot">&lt;-</span> (P1 <span class="sc">-</span> P0) <span class="sc">/</span> P0</span>
<span id="cb1-7"><a href=""></a>log_return <span class="ot">&lt;-</span> <span class="fu">log</span>(P1 <span class="sc">/</span> P0)</span>
<span id="cb1-8"><a href=""></a></span>
<span id="cb1-9"><a href=""></a><span class="fu">list</span>(<span class="at">GrossReturn =</span> R_t, <span class="at">NetReturn =</span> r_t, <span class="at">LogReturn =</span> log_return)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$GrossReturn
[1] 1.1

$NetReturn
[1] 0.1

$LogReturn
[1] 0.09531018</code></pre>
</div>
</div>
</section>
<section id="compounded-return" class="slide level2">
<h2>Compounded Return</h2>
<p>If a bond pays 10% semiannually, its compounded return is:</p>
<p><span class="math display">\[
\left( 1+ \frac{r}{k} \right)^k -1
\]</span></p>
<p>Continuously compounded return:</p>
<p><span class="math display">\[
\lim_{k \rightarrow \infty} \left( 1+ \frac{r}{k} \right)^k - 1 = e^r -1
\]</span></p>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>r <span class="ot">&lt;-</span> <span class="fl">0.10</span></span>
<span id="cb3-2"><a href=""></a>compounded_return <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">+</span> r <span class="sc">/</span> <span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href=""></a>continuously_compounded <span class="ot">&lt;-</span> <span class="fu">exp</span>(r) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-4"><a href=""></a><span class="fu">list</span>(<span class="at">CompoundedReturn =</span> compounded_return, <span class="at">ContinuousReturn =</span> continuously_compounded)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$CompoundedReturn
[1] 0.1025

$ContinuousReturn
[1] 0.1051709</code></pre>
</div>
</div>
<p>What is the equivalent c.c. return of Bond XYZ? <span class="math display">\[
e^r = \left( 1+ \frac{10\%}{2} \right)^2
\]</span> <span class="math display">\[
r =  \ln \left( 1+ \frac{10\%}{2} \right)^2 = \ln \frac{P_1}{P_0} = 9.758\%
\]</span></p>
</section>
<section id="multi-period-return" class="slide level2">
<h2>Multi-Period Return</h2>
<p>Again, suppose <span class="math inline">\(P_0=100\)</span>, <span class="math inline">\(P_1=110,\)</span> and <span class="math inline">\(P_2=100\)</span>. 2-year gross return is</p>
<p><span class="math display">\[
R(0,2) = \frac{P_2}{P_0}
\]</span></p>
<p>2-year gross return using 1-year return:</p>
<p><span class="math display">\[
R(0, 2) = \frac{P_2}{P_0} = \frac{P_1}{P_0} \frac{P_2}{P_1} =  R(0,1)R(1,2)
\]</span></p>
<p>cf.&nbsp;Log returns</p>
</section>
<section id="annualization" class="slide level2">
<h2>Annualization</h2>
<p>Typically, returns are expressed as an annual return for comparison.</p>
<p>Monthly return 1% for 12 months:</p>
<p><span class="math display">\[
r = (1+ 0.01)^{12} -1
\]</span></p>
<p>A two-year return 10%: <span class="math display">\[\begin{align*}
&amp;(1+r_1)(1+r_2) = 1.1 \\
&amp;\text{Set  } r_1 = r_2 = r \\
&amp;(1+r)^2 = 1.1 \Rightarrow r= (1.1)^{1/2} -1 = 4.89\%
\end{align*}\]</span></p>
<p>In general, an annualized return <span class="math inline">\(=(1+r_c)^{(365/Days)}-1\)</span>, where <span class="math inline">\(r_c\)</span> is the cumulative (holding-period) return, i.e., <span class="math inline">\(P_t/P_0-1\)</span>.</p>
</section>
<section id="arithmetic-vs.-geometric-average-return" class="slide level2">
<h2>Arithmetic vs.&nbsp;Geometric Average Return</h2>
<ul>
<li>Arithmetic Mean Return:</li>
</ul>
<p><span class="math display">\[
r_{AM} = \frac{(r_1+r_2+\dots+r_T)}{T}
\]</span></p>
<ul>
<li>Geometric Mean Return:</li>
</ul>
<p><span class="math display">\[
r_{GM} = \left[ (1+r_1)(1+r_2)\dots(1+r_T)\right]^{1/T}-1
\]</span></p>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>returns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="sc">-</span><span class="fl">0.02</span>, <span class="fl">0.07</span>)</span>
<span id="cb5-2"><a href=""></a>mean_arith <span class="ot">&lt;-</span> <span class="fu">mean</span>(returns)</span>
<span id="cb5-3"><a href=""></a>mean_geom <span class="ot">&lt;-</span> <span class="fu">prod</span>(<span class="dv">1</span> <span class="sc">+</span> returns)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">length</span>(returns)) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb5-4"><a href=""></a><span class="fu">list</span>(<span class="at">ArithmeticMean =</span> mean_arith, <span class="at">GeometricMean =</span> mean_geom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$ArithmeticMean
[1] 0.05

$GeometricMean
[1] 0.04905428</code></pre>
</div>
</div>
</section>
<section id="arithmetic-vs.-geometric-average-return-1" class="slide level2">
<h2>Arithmetic vs.&nbsp;Geometric Average Return</h2>
<ul>
<li><p>Fact 1: <span class="math inline">\(r_{AM} \ge r_{GM}\)</span></p></li>
<li><p>Fact 2: The greater the volatility of returns, the greater <span class="math inline">\(r_{AM} - r_{GM}\)</span></p></li>
<li><p>Typically, use <span class="math inline">\(r_{AM}\)</span> as a proxy for the expected return.</p></li>
</ul>
</section>
<section id="expected-return" class="slide level2">
<h2>Expected Return</h2>
<ul>
<li><p>The probability weighted average return</p></li>
<li><p>In population (when we know the probability function),</p>
<ul>
<li>Discrete: <span class="math inline">\(E(r) = \sum_{i=1}^{n} P(r_i) r_i\)</span></li>
<li>Continuous: <span class="math inline">\(E(r) = \int_{-\infty}^{+\infty} r f(r) dr\)</span>
<ul>
<li><span class="math inline">\(E(ar_1+br_2) = aE(r_1)+bE(r_2)\)</span></li>
</ul></li>
</ul></li>
<li><p>In sample (when we only observe history),</p>
<ul>
<li><span class="math inline">\(\overline{X} = \frac{\sum_{i=1}^{N}x_i}{N}\)</span></li>
</ul></li>
</ul>
</section>
<section id="expected-return-1" class="slide level2">
<h2>Expected Return</h2>
<ul>
<li><p>The expected return is the probability-weighted average of all possible returns.</p></li>
<li><p>In practice, the true probability distribution of returns is often unknown (i.e., from the future). Therefore, we estimate it using historical data.</p></li>
<li><p>Typically, we use the arithmetic average of historical returns to estimate the expected return.</p>
<ul>
<li>Law of Large Numbers: If <span class="math inline">\(X_i\)</span>’s are independent and identically distributed (i.i.d) with mean <span class="math inline">\(\mu\)</span>, then <span class="math inline">\(\frac{1}{N}\sum_{i=1}^{N} X_i \rightarrow \mu\)</span> as <span class="math inline">\(N\)</span> approaches infinity.</li>
</ul></li>
<li><p>The higher the risk, the greater the required rate of return. In equilibrium, the required rate of return should be equal to the expected return.</p></li>
</ul>
</section>
<section id="risk-variancestandard-deviation" class="slide level2">
<h2>Risk: Variance/Standard Deviation</h2>
<ul>
<li>Measures the degree of dispersion of return (around its mean)</li>
</ul>
<p><strong>In population</strong></p>
<ul>
<li><span class="math inline">\(Var(r) = \sigma^2 = E[(r-E(r))^2] = E(r^2)-E(r)^2\)</span>
<ul>
<li><span class="math inline">\(\sigma(r) = \sqrt{var(r)}\)</span></li>
<li><span class="math inline">\(Var(ar) = a^2 Var(r)\)</span></li>
<li><span class="math inline">\(Var(ar_1 + br_2) = a^2 Var(r_1) + b^2 Var(r_2) + 2ab Cov(r_1, r_2)\)</span></li>
</ul></li>
</ul>
<p><strong>In sample</strong></p>
<ul>
<li><span class="math inline">\(s^2 = \hat{\sigma}^2 = \frac{\sum_{i=1}^{N}(x_i - \overline{X})^2}{N-1}\)</span></li>
</ul>
<p><strong>Note</strong></p>
<ul>
<li><span class="math inline">\(Cov(X,Y) = E[(X-E(X))(Y-E(Y))] = E(XY) - E(X)E(Y)\)</span>
<ul>
<li>Correlation: <span class="math inline">\(\rho = cov(X,Y)/\sigma(X)\sigma(Y)\)</span>, <span class="math inline">\(-1 \le \rho \le +1\)</span></li>
<li><span class="math inline">\(Cov(aX+b, eY+f) = ae Cov(X,Y)\)</span></li>
<li><span class="math inline">\(Cov(X+Y, Z) = Cov(X,Z) + Cov(Y,Z)\)</span></li>
</ul></li>
</ul>
</section>
<section id="the-reward-to-volatility-sharpe-ratio" class="slide level2">
<h2>The Reward-to-Volatility (Sharpe) Ratio</h2>
<p><span class="math display">\[
\frac{E(r) - r_f}{\sigma}
\]</span></p>
<p>Example in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="co"># Load necessary libraries</span></span>
<span id="cb7-2"><a href=""></a><span class="fu">library</span>(quantmod)</span>
<span id="cb7-3"><a href=""></a><span class="fu">library</span>(PerformanceAnalytics)</span>
<span id="cb7-4"><a href=""></a></span>
<span id="cb7-5"><a href=""></a><span class="co"># Load Tesla (TSLA) stock data from Yahoo Finance</span></span>
<span id="cb7-6"><a href=""></a><span class="fu">getSymbols</span>(<span class="st">"TSLA"</span>, <span class="at">src =</span> <span class="st">"yahoo"</span>, <span class="at">from =</span> <span class="st">"2015-01-01"</span>, <span class="at">to =</span> <span class="fu">Sys.Date</span>(), <span class="at">auto.assign =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "TSLA"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="co"># Compute daily returns and remove missing values</span></span>
<span id="cb9-2"><a href=""></a>tsla_returns <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">dailyReturn</span>(<span class="fu">Cl</span>(TSLA)))</span>
<span id="cb9-3"><a href=""></a></span>
<span id="cb9-4"><a href=""></a><span class="co"># Compute annualized return and standard deviation</span></span>
<span id="cb9-5"><a href=""></a>annualized_return <span class="ot">&lt;-</span> <span class="fu">Return.annualized</span>(tsla_returns, <span class="at">geometric =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-6"><a href=""></a>annualized_std_dev <span class="ot">&lt;-</span> <span class="fu">sd</span>(tsla_returns) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">252</span>)  <span class="co"># Convert daily std to annualized</span></span>
<span id="cb9-7"><a href=""></a></span>
<span id="cb9-8"><a href=""></a><span class="co"># Get the latest 3-month Treasury Bill (IRX) as risk-free rate</span></span>
<span id="cb9-9"><a href=""></a><span class="fu">getSymbols</span>(<span class="st">"^IRX"</span>, <span class="at">src =</span> <span class="st">"yahoo"</span>, <span class="at">from =</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="dv">30</span>, <span class="at">to =</span> <span class="fu">Sys.Date</span>(), <span class="at">auto.assign =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "IRX"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>risk_free_rate <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">last</span>(<span class="fu">Cl</span>(IRX))) <span class="sc">/</span> <span class="dv">100</span>  <span class="co"># Convert from percentage</span></span>
<span id="cb11-2"><a href=""></a></span>
<span id="cb11-3"><a href=""></a><span class="co"># Compute Sharpe Ratio (Annualized)</span></span>
<span id="cb11-4"><a href=""></a>sharpe_ratio <span class="ot">&lt;-</span> (annualized_return <span class="sc">-</span> risk_free_rate) <span class="sc">/</span> annualized_std_dev</span>
<span id="cb11-5"><a href=""></a>sharpe_ratio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  daily.returns
Annualized Return     0.5581306</code></pre>
</div>
</div>
<ul>
<li>Risk premium: <span class="math inline">\(E(r) - r_f\)</span> vs.&nbsp;Excess return: <span class="math inline">\(r- r_f\)</span>.</li>
</ul>
</section>
<section id="normal-distribution" class="slide level2">
<h2>Normal Distribution</h2>
<ul>
<li>We commonly assume that returns are normally distributed, <span class="math inline">\(N(\mu, \sigma^2)\)</span></li>
</ul>

<img data-src="chapter_intro_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="normal-distribution-1" class="slide level2">
<h2>Normal Distribution</h2>
<ul>
<li>Probability distribution function, (N(, ^2))</li>
</ul>
<p><span class="math display">\[
f(x) = \frac{1}{\sqrt{2\pi} \sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}}
\]</span></p>
<ul>
<li>Standard normal, (N(0,1) )</li>
</ul>
<p><span class="math display">\[
f(x) = \frac{1}{\sqrt{2\pi} }e^{-\frac{r^2}{2}}
\]</span></p>
<ul>
<li><p>If <span class="math inline">\(Z \sim \phi(0,1)\)</span>, then <span class="math inline">\(X=\mu + \sigma Z \sim N(\mu,\sigma^2)\)</span></p></li>
<li><p>If <span class="math inline">\(X \sim N(\mu_X,\sigma^2_X)\)</span> and <span class="math inline">\(Y \sim N(\mu_Y,\sigma^2_Y)\)</span>, then <span class="math inline">\(X+Y \sim N(\mu_X+\mu_Y,\sigma^2_X +\sigma^2_Y +2cov(X,Y))\)</span></p></li>
</ul>
</section>
<section id="standard-normal-random-variables" class="slide level2">
<h2>Standard Normal Random Variables</h2>
<ul>
<li>Consider a normal random variable <span class="math inline">\(R\)</span> with <span class="math inline">\(\mu=0\)</span> and <span class="math inline">\(\sigma=1\)</span>. In other words, <span class="math inline">\(R \sim N(0,1)\)</span>. We call it a standard normal random variable.</li>
<li>Suppose that we want to find the probability that <span class="math inline">\(R\)</span> is lower than <span class="math inline">\(x\)</span>. Graphically, this probability is the shadowed area in the figure below:</li>
</ul>

<img data-src="chapter_intro_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="standard-normal-random-variables-1" class="slide level2">
<h2>Standard Normal Random Variables</h2>
<ul>
<li><p>To find this probability, we calculate</p>
<p><span class="math display">\[
  \text{Prob}(R \leq x) = \int_{-\infty}^x \frac{1}{\sqrt{2\pi}} e^{-\frac{r^2}{2}}dr \equiv \Phi(x).
  \]</span> <span class="math inline">\(\Phi(x)\)</span> is called the cumulative probability distribution function for a standard normal random variable.</p></li>
<li><p>For any <span class="math inline">\(x\)</span>, the value of <span class="math inline">\(\Phi(x)\)</span> can be found using the excel function, (x, TRUE).</p></li>
</ul>
</section>
<section id="standard-normal-random-variables-2" class="slide level2">
<h2>Standard Normal Random Variables</h2>
<ul>
<li><strong><em>Ex.1</em></strong> Suppose that <span class="math inline">\(R_1 \sim \phi (0,1)\)</span>. What is the probability that <span class="math inline">\(R_1\)</span> is larger than 1?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>prob_R1 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb13-2"><a href=""></a><span class="fu">cat</span>(<span class="st">"P(R1 &gt; 1) ="</span>, prob_R1, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(R1 &gt; 1) = 0.1586553 </code></pre>
</div>
</div>
<ul>
<li><strong><em>Ex.2</em></strong> Suppose that <span class="math inline">\(R_2 \sim \phi (0.1, 0.2)\)</span>. What is the probability that <span class="math inline">\(R_2\)</span> is equal to or smaller than 0.5?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a>prob_R2 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">0.5</span>, <span class="at">mean =</span> <span class="fl">0.1</span>, <span class="at">sd =</span> <span class="fl">0.2</span>)</span>
<span id="cb15-2"><a href=""></a><span class="fu">cat</span>(<span class="st">"P(R2 ≤ 0.5) ="</span>, prob_R2, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(R2 ≤ 0.5) = 0.9772499 </code></pre>
</div>
</div>
</section>
<section id="historic-vs.-normal-distribution" class="slide level2">
<h2>Historic vs.&nbsp;Normal Distribution</h2>
<ul>
<li>Historical returns often deviate from the normal distribution.</li>
<li>Empirical distributions can exhibit skewness and kurtosis (fat tails).</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "TSLA"</code></pre>
</div>

</div>
<img data-src="chapter_intro_files/figure-revealjs/unnamed-chunk-9-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="log-normal-distribution" class="slide level2">
<h2>Log-Normal Distribution</h2>
<ul>
<li><p><span class="math inline">\(X \sim LN(\mu, \sigma^2)\)</span> if <span class="math inline">\(\ln(X) \sim N(\mu, \sigma^2)\)</span></p></li>
<li><p>If a rate of return is normally distributed, security prices follow lognormal distribution.</p>
<ul>
<li><span class="math inline">\(\text{log-return}= \ln R_t = \ln \frac{P_t}{P_{t-1}} = \ln P_t - \ln P_{t-1} \sim N(\cdot)\)</span></li>
</ul></li>
<li><p>By the way,</p>
<ul>
<li><span class="math inline">\(E(X) = e^{\mu + \sigma^2/2}\)</span>. In fact <span class="math inline">\(E(X^n) = e^{n\mu + n^2\sigma^2/2}\)</span></li>
<li><span class="math inline">\(Var(X) = E(X^2)- E(X)^2 = e^{2\mu + 2\sigma^2} - e^{2\mu + \sigma^2} = e^{2\mu + \sigma^2}(e^{\sigma^2}-1)\)</span></li>
</ul></li>
</ul>
</section>
<section id="risk-measures" class="slide level2">
<h2>Risk Measures</h2>
<ul>
<li>Companies must assess and manage risks to avoid business failures.</li>
<li>To understand the risk level of a project or business, we can analyze the probability distribution of possible outcomes.</li>
<li>Several risk measures are commonly used:
<ul>
<li>Standard Deviation</li>
<li>Value at Risk (VaR)</li>
<li>Expected Shortfall</li>
<li><span class="math inline">\(\cdots\)</span></li>
</ul></li>
<li>Each measure focuses on different aspects of the distribution.</li>
</ul>
</section>
<section id="standard-deviation" class="slide level2">
<h2>Standard Deviation</h2>
<ul>
<li><p>Standard deviation measures the level of uncertainty about the outcomes, or the dispersion of probability distribution.</p></li>
<li><p>The larger standard deviation is, the riskier a project.</p></li>
<li><p>A disadvantage of the standard deviation is that it cannot distinguish between upside and downside movement.</p></li>
</ul>
</section>
<section id="value-at-risk" class="slide level2">
<h2>Value at Risk</h2>
<ul>
<li>Value at Risk (VaR) is intended to focus on downside risk of the distribution.</li>
<li>VaR is the estimate of the losses that occur with a given probability.
<ul>
<li><strong><em>e.g.</em></strong> How much loss we might have on our portfolio such that there is only a 5% chance that we will do worse?</li>
</ul>
<img data-src="../img/intro_var1.png" class="quarto-figure quarto-figure-center" style="width:40.0%"> That is, we want to find <span class="math inline">\(X\)</span> such that <span class="math display">\[
  \text{Prob}\left( R \leq X \right) = 0.05
  \]</span></li>
</ul>
</section>
<section id="value-at-risk-1" class="slide level2">
<h2>Value at Risk</h2>
<ul>
<li>How can we find <span class="math inline">\(X\)</span> satisfying <span class="math inline">\(\Pr\left(R \leq X \right) = 0.05\)</span>, i.e., 95% VaR?</li>
<li>In a special case when <span class="math inline">\(R \sim \phi(\mu,\sigma)\)</span>, we can find <span class="math inline">\(X\)</span> using the Excel function <code>norm.inv()</code>.
<ul>
<li><p>For given <span class="math inline">\(1-p\)</span>, <code>norm.inv(1-p,$\mu, \sigma$)</code> is <span class="math inline">\(X\)</span> that satisfies <span class="math inline">\(\text{Prob}\left(R \leq X \right) = 1-p\)</span>.</p>
<ul>
<li>VaR at 5% = <code>norm.inv(0.05,0,1) = -1.645</code></li>
</ul>
<p>(R: <code>qnorm(0.05, mean = 0, sd = 1)</code>)</p>
<ul>
<li>VaR at 10% = <code>norm.inv(0.1,0,1) = -1.282</code></li>
</ul>
<p>(R: <code>qnorm(0.10, mean = 0, sd = 1)</code>)</p></li>
</ul></li>
</ul>
</section>
<section id="value-at-risk---example-i" class="slide level2">
<h2>Value at Risk - Example I</h2>
<ul>
<li><p>Suppose we own a stock whose return is normally distributed with a mean of 15% and a standard deviation of 30%. What is the 5% Value at Risk (VaR) for this stock?</p>
<p><strong><em>Answer:</em></strong> Let <span class="math inline">\(X\)</span> denote the 5% VaR. Then, <span class="math inline">\(\Pr(R \le X) = \texttt{norm.inv}(0.05, 0.15, 0.30) = -34.3\%\)</span></p>
<p>Alternatively, <span class="math display">\[\begin{align*}
      \text{Prob}\left(R \leq X \right) = \text{Prob}\left( \frac{R - 0.15}{0.3} \leq \frac{X - 0.15}{0.3} \right) = 0.05
  \end{align*}\]</span> Note that <span class="math inline">\(\frac{R - 0.15}{0.3} \sim \phi(0,1)\)</span>, so we can write <span class="math display">\[
  \frac{X - 0.15}{0.3} = \texttt{norm.s.inv}(0.05) = -1.645.
  \]</span> Thus, <span class="math inline">\(X = -34.3\%\)</span>.</p></li>
</ul>
</section>
<section id="value-at-risk---example-ii" class="slide level2">
<h2>Value at Risk - Example II</h2>
<ul>
<li><p><strong><em>Q.</em></strong> A portfolio worth $10 million has a 1-day standard deviation of $200,000 and an approximate mean of zero. Assume that the change is normally distributed. What is the 1-day 99% VaR for our portfolio consisting of a $10 million position in Microsoft? What is the 10-day 99% VaR?</p>
<p><strong><em>Answer:</em></strong> <span class="math inline">\(\texttt{norm.s.inv(0.01)} = -2.326\)</span>, meaning that there is a 1% probability that a normally distributed variable will decrease in value by more than 2.326 standard deviations.</p>
<p>Hence, the 1-day 99% VaR is <span class="math inline">\(2.326 \times \$200,000 = \$465,300\)</span>.</p>
<p>The 10-day 99% VaR is <span class="math inline">\(2.326 \times (\$200,000 \times \sqrt{10}) = \$1,471,300\)</span>.</p></li>
</ul>
</section>
<section id="value-at-risk---multiple-stocks" class="slide level2">
<h2>Value at Risk - Multiple Stocks</h2>
<ul>
<li>Consider a portfolio consisting of <strong><em>n</em></strong> different stocks.</li>
<li>The return on the portfolio is <span class="math display">\[
  R_p = \sum_{i=1}^n w_i R_i
  \]</span> where <strong><em>w_i</em></strong> is the fraction of wealth invested in stock <strong><em>i</em></strong>.</li>
<li>If each stock return is normally distributed, then the portfolio return is also normally distributed.</li>
</ul>
</section>
<section id="value-at-risk---multiple-stocks-1" class="slide level2">
<h2>Value at Risk - Multiple Stocks</h2>
<ul>
<li><strong><em>Ex.</em></strong> Consider a portfolio consisting of stock A and stock B. In the portfolio, $5 million are invested in each of stock A and stock B. The return on each stock is normally distributed. Stock A has an expected return of 15% and a standard deviation of 30%. Stock B has an expected return of 18% and a standard deviation of 45%. The correlation between stock A and stock B is 0.4. What is the 10% VaR for the portfolio?
<ul>
<li> When <span class="math inline">\(X \sim \phi(\mu_x, \sigma_x^2)\)</span> and <span class="math inline">\(Y \sim \phi(\mu_y, \sigma_y^2)\)</span>, then <span class="math inline">\(X + Y \sim \phi(\mu_x + \mu_y, \sigma_x^2 + \sigma_y^2 + 2\rho\sigma_x\sigma_y)\)</span></li>
</ul>
<strong><em>Answer:</em></strong>
<ul>
<li>The expected return of the portfolio is: <span class="math display">\[
  \mu_p = 0.5 \times 0.15 + 0.5 \times 0.18 = 0.165 \text{ or } 16.5\%
  \]</span></li>
<li>The standard deviation of the portfolio is: <span class="math display">\[
  \sigma_p = \sqrt{(0.5 \times 0.30)^2 + (0.5 \times 0.45)^2 + 2 \times 0.5 \times 0.5 \times 0.4 \times 0.30 \times 0.45} = 0.315 \text{ or } 31.5\%
  \]</span></li>
<li>The 10% VaR for the portfolio is: <span class="math display">\[
  \text{VaR}_{10\%} = \mu_p + \sigma_p \times \texttt{norm.s.inv}(0.10) = 0.165 + 0.315 \times (-1.282) = -0.239 \text{ or } -23.9\%
  \]</span></li>
<li>Therefore, the 10% VaR for the $10 million portfolio is: <span class="math display">\[
  10,000,000 \times 0.239 = \$2,390,000
  \]</span></li>
</ul></li>
</ul>
</section>
<section id="value-at-risk---historical-data" class="slide level2">
<h2>Value at Risk - Historical Data</h2>
<ul>
<li>We can also calculate the VaR using historical data without assuming a specific distribution.</li>
<li>For example, let’s consider 1-year-long historical data of daily returns for a stock price index.</li>
<li>We aim to estimate the 5% VaR for the next day’s return.</li>
<li>To do this, we assume that the next day’s return will be similar to one of the past year’s returns.</li>
<li>The 5% VaR is then the 5th percentile of these historical returns.</li>
</ul>
</section>
<section id="value-at-risk---some-issues-i" class="slide level2">
<h2>Value at Risk - Some Issues I</h2>
<ul>
<li>VaR estimation is based on the assumption that the distribution of future return is the same as (at least similar to) the distribution of past return.</li>
<li>This assumption may not hold in the real world.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KS200"</code></pre>
</div>

</div>
<img data-src="chapter_intro_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="value-at-risk---some-issues-ii" class="slide level2">
<h2>Value at Risk - Some Issues II</h2>
<ul>
<li>VaR specifies the <strong><em>minimum</em></strong> loss that will occur with a given probability.</li>
<li>VaR tells nothing about the expected magnitude of the loss.</li>
<li>Which is the better between the following two?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="../img/intro_var1.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="../img/intro_var2.png"></p>
</div></div>
</section>
<section id="expected-shortfall" class="slide level2">
<h2>Expected Shortfall</h2>
<ul>
<li><p><strong><em>Expected Shortfall</em></strong> is another measure to address the shortcoming of VaR.</p>
<ul>
<li>It asks <strong><em>“If things get bad, what is the expected loss?”</em></strong></li>
</ul></li>
<li><p>Suppose that we focus on the loss that will happen with 5% probability. Let <strong><em>V</em></strong> denote the 5% loss (VaR). Then, <span class="math display">\[
  \text{Expected shortfall} = E\left(R | R \leq V \right)
  \]</span></p></li>
<li><p>Also known as Conditional Value at Risk (CVaR)</p></li>
</ul>

<aside><div>
<ul>
<li>Under normal distribution: <span class="math inline">\(\text{ES} = \mu - \sigma \frac{\phi((V-\mu)/\sigma)}{\Phi((V-\mu)/\sigma)}\)</span></li>
</ul>
</div></aside></section>
<section id="expected-shortfall-1" class="slide level2">
<h2>Expected Shortfall</h2>
<ul>
<li>Once historical data are given, we can compute the expected shortfall.
<ul>
<li>In Excel, use <strong><em>“averageif()”</em></strong>.</li>
</ul></li>
<li><strong><em>Ex.</em></strong> Let’s use the 1-year-long data of daily returns on a stock index.
<ul>
<li><strong><em>Q1.</em></strong> What is the expected shortfall with 5% probability?</li>
<li><strong><em>Q2.</em></strong> What is the expected shortfall with 10% probability?</li>
</ul></li>
</ul>
</section>
<section id="value-at-risk-and-expected-shortfall" class="slide level2">
<h2>Value at Risk and Expected Shortfall</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PLTR"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>90% Historical VaR: -0.04475 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>90% Expected Shortfall: -0.069368 </code></pre>
</div>

</div>
<img data-src="chapter_intro_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch"></section>
<section id="application-bank-regulation" class="slide level2">
<h2>Application: Bank Regulation</h2>
<ul>
<li>VaR and ES are widely used in the financial industry to measure and manage risk.</li>
<li>The Basel Committee on Banking Supervision (BCBS) provides global banking regulations.</li>
<li>Key frameworks include:
<ul>
<li><strong>1996 Amendment</strong>: Required capital = <strong><em>k VaR (1%, 10 days)</em></strong>, where <strong><em>k </em></strong>.</li>
<li><strong>Basel II (2007)</strong>: Suggested <strong><em>VaR(0.1%, 1-year)</em></strong> for risk assessment.</li>
<li><strong>Basel IV (2021)</strong>: Recommended 97.5% expected shortfall (ES) for a comprehensive risk view.</li>
</ul></li>
</ul>

</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="chapter_intro_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="chapter_intro_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/reveal-text-resizer/revealjs-text-resizer.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="chapter_intro_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="chapter_intro_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'fast',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealTextResizer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>