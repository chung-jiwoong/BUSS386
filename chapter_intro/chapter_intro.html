<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.41">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Ji-Woong Chung">

<title>Introduction and Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="chapter_intro_files/libs/clipboard/clipboard.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/quarto.js"></script>
<script src="chapter_intro_files/libs/quarto-html/popper.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="chapter_intro_files/libs/quarto-html/anchor.min.js"></script>
<link href="chapter_intro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="chapter_intro_files/libs/quarto-html/quarto-syntax-highlighting-48ffa3e5b9d089919c6712c39e5b00f2.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="chapter_intro_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="chapter_intro_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="chapter_intro_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#outline" id="toc-outline" class="nav-link active" data-scroll-target="#outline">Outline</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a>
  <ul class="collapse">
  <li><a href="#what-are-derivatives" id="toc-what-are-derivatives" class="nav-link" data-scroll-target="#what-are-derivatives">What are derivatives?</a></li>
  <li><a href="#what-are-the-underlying-variables" id="toc-what-are-the-underlying-variables" class="nav-link" data-scroll-target="#what-are-the-underlying-variables">What are the underlying variables?</a></li>
  <li><a href="#type-of-derivatives" id="toc-type-of-derivatives" class="nav-link" data-scroll-target="#type-of-derivatives">Type of derivatives</a></li>
  <li><a href="#history-of-derivatives" id="toc-history-of-derivatives" class="nav-link" data-scroll-target="#history-of-derivatives">History of derivatives</a></li>
  <li><a href="#history-of-derivatives-1" id="toc-history-of-derivatives-1" class="nav-link" data-scroll-target="#history-of-derivatives-1">History of derivatives</a></li>
  <li><a href="#where-to-trade-derivatives" id="toc-where-to-trade-derivatives" class="nav-link" data-scroll-target="#where-to-trade-derivatives">Where to trade derivatives</a>
  <ul class="collapse">
  <li><a href="#exchange-traded-market" id="toc-exchange-traded-market" class="nav-link" data-scroll-target="#exchange-traded-market">Exchange-Traded Market</a></li>
  </ul></li>
  <li><a href="#where-to-trade-derivatives-1" id="toc-where-to-trade-derivatives-1" class="nav-link" data-scroll-target="#where-to-trade-derivatives-1">Where to trade derivatives</a>
  <ul class="collapse">
  <li><a href="#over-the-counter-otc-market" id="toc-over-the-counter-otc-market" class="nav-link" data-scroll-target="#over-the-counter-otc-market">Over-the-Counter (OTC) Market</a></li>
  </ul></li>
  <li><a href="#market-types-and-trading-volume" id="toc-market-types-and-trading-volume" class="nav-link" data-scroll-target="#market-types-and-trading-volume">Market Types and Trading Volume</a></li>
  <li><a href="#what-contributed-to-rapid-growth" id="toc-what-contributed-to-rapid-growth" class="nav-link" data-scroll-target="#what-contributed-to-rapid-growth">What contributed to rapid growth?</a></li>
  <li><a href="#why-are-derivatives-useful" id="toc-why-are-derivatives-useful" class="nav-link" data-scroll-target="#why-are-derivatives-useful">Why are derivatives useful?</a></li>
  <li><a href="#dangers-of-derivatives-trading" id="toc-dangers-of-derivatives-trading" class="nav-link" data-scroll-target="#dangers-of-derivatives-trading">Dangers of derivatives trading</a></li>
  <li><a href="#the-otc-market-prior-to-2008" id="toc-the-otc-market-prior-to-2008" class="nav-link" data-scroll-target="#the-otc-market-prior-to-2008">The OTC Market Prior to 2008</a></li>
  <li><a href="#changes-since-2008" id="toc-changes-since-2008" class="nav-link" data-scroll-target="#changes-since-2008">Changes Since 2008</a></li>
  <li><a href="#the-lehman-bankruptcy" id="toc-the-lehman-bankruptcy" class="nav-link" data-scroll-target="#the-lehman-bankruptcy">The Lehman Bankruptcy</a></li>
  <li><a href="#central-clearing" id="toc-central-clearing" class="nav-link" data-scroll-target="#central-clearing">Central Clearing</a></li>
  <li><a href="#who-trades-derivatives" id="toc-who-trades-derivatives" class="nav-link" data-scroll-target="#who-trades-derivatives">Who trades derivatives?</a></li>
  </ul></li>
  <li><a href="#measures-of-return-and-risk" id="toc-measures-of-return-and-risk" class="nav-link" data-scroll-target="#measures-of-return-and-risk">Measures of Return and Risk</a>
  <ul class="collapse">
  <li><a href="#simple-return" id="toc-simple-return" class="nav-link" data-scroll-target="#simple-return">Simple Return</a></li>
  <li><a href="#compounded-return" id="toc-compounded-return" class="nav-link" data-scroll-target="#compounded-return">Compounded Return</a></li>
  <li><a href="#multi-period-return" id="toc-multi-period-return" class="nav-link" data-scroll-target="#multi-period-return">Multi-Period Return</a></li>
  <li><a href="#annualization" id="toc-annualization" class="nav-link" data-scroll-target="#annualization">Annualization</a></li>
  <li><a href="#arithmetic-vs.-geometric-average-return" id="toc-arithmetic-vs.-geometric-average-return" class="nav-link" data-scroll-target="#arithmetic-vs.-geometric-average-return">Arithmetic vs.&nbsp;Geometric Average Return</a></li>
  <li><a href="#arithmetic-vs.-geometric-average-return-1" id="toc-arithmetic-vs.-geometric-average-return-1" class="nav-link" data-scroll-target="#arithmetic-vs.-geometric-average-return-1">Arithmetic vs.&nbsp;Geometric Average Return</a></li>
  <li><a href="#expected-return" id="toc-expected-return" class="nav-link" data-scroll-target="#expected-return">Expected Return</a></li>
  <li><a href="#expected-return-1" id="toc-expected-return-1" class="nav-link" data-scroll-target="#expected-return-1">Expected Return</a></li>
  <li><a href="#risk-variancestandard-deviation" id="toc-risk-variancestandard-deviation" class="nav-link" data-scroll-target="#risk-variancestandard-deviation">Risk: Variance/Standard Deviation</a></li>
  <li><a href="#the-reward-to-volatility-sharpe-ratio" id="toc-the-reward-to-volatility-sharpe-ratio" class="nav-link" data-scroll-target="#the-reward-to-volatility-sharpe-ratio">The Reward-to-Volatility (Sharpe) Ratio</a></li>
  <li><a href="#normal-distribution" id="toc-normal-distribution" class="nav-link" data-scroll-target="#normal-distribution">Normal Distribution</a></li>
  <li><a href="#normal-distribution-1" id="toc-normal-distribution-1" class="nav-link" data-scroll-target="#normal-distribution-1">Normal Distribution</a></li>
  <li><a href="#standard-normal-random-variables" id="toc-standard-normal-random-variables" class="nav-link" data-scroll-target="#standard-normal-random-variables">Standard Normal Random Variables</a></li>
  <li><a href="#standard-normal-random-variables-1" id="toc-standard-normal-random-variables-1" class="nav-link" data-scroll-target="#standard-normal-random-variables-1">Standard Normal Random Variables</a></li>
  <li><a href="#standard-normal-random-variables-2" id="toc-standard-normal-random-variables-2" class="nav-link" data-scroll-target="#standard-normal-random-variables-2">Standard Normal Random Variables</a></li>
  <li><a href="#historic-vs.-normal-distribution" id="toc-historic-vs.-normal-distribution" class="nav-link" data-scroll-target="#historic-vs.-normal-distribution">Historic vs.&nbsp;Normal Distribution</a></li>
  <li><a href="#log-normal-distribution" id="toc-log-normal-distribution" class="nav-link" data-scroll-target="#log-normal-distribution">Log-Normal Distribution</a></li>
  <li><a href="#risk-measures" id="toc-risk-measures" class="nav-link" data-scroll-target="#risk-measures">Risk Measures</a></li>
  <li><a href="#standard-deviation" id="toc-standard-deviation" class="nav-link" data-scroll-target="#standard-deviation">Standard Deviation</a></li>
  <li><a href="#value-at-risk" id="toc-value-at-risk" class="nav-link" data-scroll-target="#value-at-risk">Value at Risk</a></li>
  <li><a href="#value-at-risk-1" id="toc-value-at-risk-1" class="nav-link" data-scroll-target="#value-at-risk-1">Value at Risk</a></li>
  <li><a href="#value-at-risk---example-i" id="toc-value-at-risk---example-i" class="nav-link" data-scroll-target="#value-at-risk---example-i">Value at Risk - Example I</a></li>
  <li><a href="#value-at-risk---example-ii" id="toc-value-at-risk---example-ii" class="nav-link" data-scroll-target="#value-at-risk---example-ii">Value at Risk - Example II</a></li>
  <li><a href="#value-at-risk---multiple-stocks" id="toc-value-at-risk---multiple-stocks" class="nav-link" data-scroll-target="#value-at-risk---multiple-stocks">Value at Risk - Multiple Stocks</a></li>
  <li><a href="#value-at-risk---multiple-stocks-1" id="toc-value-at-risk---multiple-stocks-1" class="nav-link" data-scroll-target="#value-at-risk---multiple-stocks-1">Value at Risk - Multiple Stocks</a></li>
  <li><a href="#value-at-risk---historical-data" id="toc-value-at-risk---historical-data" class="nav-link" data-scroll-target="#value-at-risk---historical-data">Value at Risk - Historical Data</a></li>
  <li><a href="#value-at-risk---some-issues-i" id="toc-value-at-risk---some-issues-i" class="nav-link" data-scroll-target="#value-at-risk---some-issues-i">Value at Risk - Some Issues I</a></li>
  <li><a href="#value-at-risk---some-issues-ii" id="toc-value-at-risk---some-issues-ii" class="nav-link" data-scroll-target="#value-at-risk---some-issues-ii">Value at Risk - Some Issues II</a></li>
  <li><a href="#expected-shortfall" id="toc-expected-shortfall" class="nav-link" data-scroll-target="#expected-shortfall">Expected Shortfall</a></li>
  <li><a href="#expected-shortfall-1" id="toc-expected-shortfall-1" class="nav-link" data-scroll-target="#expected-shortfall-1">Expected Shortfall</a></li>
  <li><a href="#value-at-risk-and-expected-shortfall" id="toc-value-at-risk-and-expected-shortfall" class="nav-link" data-scroll-target="#value-at-risk-and-expected-shortfall">Value at Risk and Expected Shortfall</a></li>
  <li><a href="#application-bank-regulation" id="toc-application-bank-regulation" class="nav-link" data-scroll-target="#application-bank-regulation">Application: Bank Regulation</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="chapter_intro.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction and Overview</h1>
<p class="subtitle lead">BUSS386 Futures and Options</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prof.&nbsp;Ji-Woong Chung </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<ul>
<li>Overview of derivatives/markets</li>
<li>Review: measures of return and risk</li>
<li>Reading: Hull, Ch. 1.1–1.10 and 22.1–22.3</li>
</ul>
</section>
<section id="overview" class="level1">
<h1>Overview</h1>
<hr>
<section id="what-are-derivatives" class="level2">
<h2 class="anchored" data-anchor-id="what-are-derivatives">What are derivatives?</h2>
<ul>
<li>A derivative is a financial security (i.e., instrument, contract, asset) whose value depends on other underlying <strong>variables</strong>.</li>
<li>Example: A contract to buy 50,000 barrels of crude oil on September 16, 2017, for $50 per barrel.</li>
<li>Example: An option contract that gives the holder the right, but not the obligation, to buy 100 shares of a company’s stock at $100 per share within the next three months.</li>
</ul>
<hr>
</section>
<section id="what-are-the-underlying-variables" class="level2">
<h2 class="anchored" data-anchor-id="what-are-the-underlying-variables">What are the underlying variables?</h2>
<ul>
<li>Usually, the price of traded assets (e.g., equities, bonds, currencies, commodities)</li>
<li>Some properties of asset prices (e.g., volatility)</li>
<li>Certain events (e.g., default)</li>
<li>Other factors like weather (e.g., temperature, rainfall), inflation, etc.</li>
</ul>
<p><span class="math inline">\(\Rightarrow\)</span> All variables should be measurable and observable.</p>
<hr>
</section>
<section id="type-of-derivatives" class="level2">
<h2 class="anchored" data-anchor-id="type-of-derivatives">Type of derivatives</h2>
<ul>
<li><strong>Contract Derivatives</strong>
<ul>
<li>Examples: Futures, forwards, swaps, options, warrants, callable bonds (embedded), etc.</li>
<li>These contracts bind two counterparties to make a transaction at a future date. All profits and losses result from cash flows between the counterparties, making it a zero-sum game.</li>
</ul></li>
<li><strong>Securitized or Structured Products</strong>
<ul>
<li>Unlike contract derivatives, securitizations involve a pool or portfolio of underlying securities.</li>
<li>Securitization creates new derivative securities that allocate the cash flows from the underlying pool to different classes of investors based on their risk tolerance.</li>
<li>Examples: Collateralized mortgage obligations, asset-backed securities, etc.</li>
</ul></li>
<li><strong>Key Difference</strong>
<ul>
<li>A contract derivative <strong>transfers</strong> risk from one counterparty to the other.</li>
<li>A securitized derivative <strong>redistributes</strong> the risk inherent in the underlying assets among different investors.</li>
</ul></li>
</ul>
<hr>
</section>
<section id="history-of-derivatives" class="level2">
<h2 class="anchored" data-anchor-id="history-of-derivatives">History of derivatives</h2>
<div style="text-align: center;">
<p><img src="img/intro_dojima.jpg" class="img-fluid"></p>
</div>
<center>
<small>Source: https://professornerdster.com/tag/forward-contracts/</small>
</center>
<ul>
<li>Established in the 1690s. Initially, rice exchange</li>
<li>Futures trading began in 1730 for hedging.</li>
</ul>
<hr>
</section>
<section id="history-of-derivatives-1" class="level2">
<h2 class="anchored" data-anchor-id="history-of-derivatives-1">History of derivatives</h2>
<ul>
<li><p>Derivatives have been used by farmers and merchants for thousands of years:</p>
<ul>
<li>Around 2000 B.C., derivatives were used in trade between India and the Arab Gulf.</li>
<li>In 300 B.C., olive growers in ancient Greece utilized derivatives.</li>
</ul></li>
<li><p>In the 12th century, European merchants used forward contracts for the future delivery of their goods.</p></li>
<li><p>During Amsterdam’s tulip mania in the 1630s, derivatives helped some merchants manage price swings.</p></li>
<li><p>In the 17th century, Japan developed a forward market in rice.</p></li>
<li><p>Modern developments:</p>
<ul>
<li>The Chicago Board of Trade (CBOT) was established in 1848 to trade futures.</li>
<li>The Chicago Mercantile Exchange (CME) was founded in 1919. (CBOT and CME later merged to form the CME Group).</li>
<li>The Chicago Board Options Exchange (CBOE) introduced call options in 1973 and put options in 1977.</li>
<li>In Korea, forex derivatives began trading in 1968, and exchanges were established in 1996.</li>
</ul></li>
</ul>
<hr>
</section>
<section id="where-to-trade-derivatives" class="level2">
<h2 class="anchored" data-anchor-id="where-to-trade-derivatives">Where to trade derivatives</h2>
<p>Derivatives can be traded in two main types of markets:</p>
<section id="exchange-traded-market" class="level3">
<h3 class="anchored" data-anchor-id="exchange-traded-market">Exchange-Traded Market</h3>
<ul>
<li><strong>Centralized Trading</strong>: All buy and sell orders are centralized in one place, either physically or electronically.</li>
<li><strong>Standardized Contracts</strong>: Contracts are standardized, ensuring uniformity and reducing the risk of counterparty default.</li>
<li><strong>Types of Derivatives</strong>: Futures and options are commonly traded.</li>
<li><strong>Examples</strong>: Chicago Mercantile Exchange (CME), Chicago Board Options Exchange (CBOE), Hong Kong Exchanges and Clearing (HKEX).</li>
<li><strong>Liquidity</strong>: High concentration of trades creates liquidity, which in turn attracts more liquidity.</li>
</ul>
<hr>
</section>
</section>
<section id="where-to-trade-derivatives-1" class="level2">
<h2 class="anchored" data-anchor-id="where-to-trade-derivatives-1">Where to trade derivatives</h2>
<section id="over-the-counter-otc-market" class="level3">
<h3 class="anchored" data-anchor-id="over-the-counter-otc-market">Over-the-Counter (OTC) Market</h3>
<ul>
<li><strong>Decentralized Trading</strong>: There is no central place for collecting orders. Participants trade directly with each other or through a network of dealers.</li>
<li><strong>Customizable Contracts</strong>: Contracts are not standardized and can be tailored to meet the specific needs of the participants.</li>
<li><strong>Main Participants</strong>: Large institutions such as banks, hedge funds, and corporations.</li>
<li><strong>Types of Derivatives</strong>: Forwards, swaps, options, and other customized derivatives are traded.</li>
</ul>
<hr>
</section>
</section>
<section id="market-types-and-trading-volume" class="level2">
<h2 class="anchored" data-anchor-id="market-types-and-trading-volume">Market Types and Trading Volume</h2>
<div style="text-align: center;">
<p><img src="img/intro_derivative_market_size.png" class="img-fluid"></p>
</div>
<center>
<small>Source: Bank for International Settlement</small>
</center>
<hr>
</section>
<section id="what-contributed-to-rapid-growth" class="level2">
<h2 class="anchored" data-anchor-id="what-contributed-to-rapid-growth">What contributed to rapid growth?</h2>
<p>“Necessity is the mother of invention” - Plato</p>
<ul>
<li>Deregulation, Increased Volatility, and Technological Innovation
<ul>
<li>Key academic contributions: Black and Scholes (1972), Merton (1973)</li>
<li>Major events:
<ul>
<li>1971: Currencies began to free float, leading to the introduction of currency futures in 1972.</li>
<li>1973: The oil shock caused significant volatility in oil prices.</li>
<li>1970s: Inflation and recessions resulted in volatile interest rates.</li>
<li>1978: Deregulation of natural gas.</li>
<li>1990s: Deregulation of electricity markets.</li>
</ul></li>
</ul></li>
</ul>
<hr>
</section>
<section id="why-are-derivatives-useful" class="level2">
<h2 class="anchored" data-anchor-id="why-are-derivatives-useful">Why are derivatives useful?</h2>
<ul>
<li><strong>Derivatives facilitate the transfer of risk</strong> from those who are exposed to it to those more willing to bear it, making them a powerful tool for risk management.<br>
</li>
<li>While risk management often aims to reduce risk, it can also involve <strong>strategically assuming risks</strong> that offer potential benefits.<br>
</li>
<li>By effectively redistributing risk, derivatives <strong>enable productive activities</strong> that might otherwise be deemed too risky to pursue.<br>
</li>
<li>However, derivatives <strong>can be misused</strong>, which is why regulations exist to mitigate potential abuses and ensure market stability.</li>
</ul>
<!-- Lucas lecture "0 06 What are derivatives useful" provide some examples. -->
<hr>
</section>
<section id="dangers-of-derivatives-trading" class="level2">
<h2 class="anchored" data-anchor-id="dangers-of-derivatives-trading">Dangers of derivatives trading</h2>
<ul>
<li><p>Without proper risk management, derivatives trading can lead to significant losses. Here are some notable examples:</p>
<ul>
<li><strong>Société Générale (2008)</strong>: Jérôme Kerviel lost over $7 billion by speculating on the future direction of equity indices. <a href="https://en.wikipedia.org/wiki/2008_Soci%C3%A9t%C3%A9_G%C3%A9n%C3%A9rale_trading_loss">Source</a></li>
<li><strong>UBS (2011)</strong>: Kweku Adoboli lost $2.3 billion by taking unauthorized speculative positions in stock market indices. <a href="https://en.wikipedia.org/wiki/2011_UBS_rogue_trader_scandal">Source</a></li>
<li><strong>Shell (1993)</strong>: A single employee in the Japanese subsidiary of Shell lost $1 billion in unauthorized trading of currency futures. <a href="https://www.nytimes.com/1993/02/26/business/worldbusiness/IHT-shell-gains-despite-currency-fiasco.html">Source</a></li>
<li><strong>Barings Bank (1995)</strong>: Nick Leeson lost £827 million, leading to the bank’s collapse. <a href="https://en.wikipedia.org/wiki/Barings_Bank">Source</a></li>
<li><strong>Long-Term Capital Management (1998)</strong>: The hedge fund lost $4.6 billion due to high-risk arbitrage trading strategies. <a href="https://en.wikipedia.org/wiki/Long-Term_Capital_Management">Source</a></li>
<li><strong>AIG (2008)</strong>: AIG faced a liquidity crisis due to losses on credit default swaps, leading to a $182 billion government bailout. <a href="https://en.wikipedia.org/wiki/AIG">Source</a></li>
</ul></li>
<li><p>Effective risk management is crucial:</p>
<ul>
<li>Define risk parameters and set risk limits.</li>
<li>Conduct various scenario analyses to anticipate potential outcomes and mitigate risks.</li>
</ul></li>
</ul>
<hr>
</section>
<section id="the-otc-market-prior-to-2008" class="level2">
<h2 class="anchored" data-anchor-id="the-otc-market-prior-to-2008">The OTC Market Prior to 2008</h2>
<ul>
<li>The OTC market was largely unregulated.</li>
<li>Banks acted as market makers, quoting bid and ask prices.</li>
<li>Transactions between two parties were usually governed by master agreements provided by the International Swaps and Derivatives Association (ISDA).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>Some transactions were cleared through central counterparties (CCPs), which act as intermediaries between the two sides of a transaction, similar to an exchange.</li>
</ul>
<hr>
</section>
<section id="changes-since-2008" class="level2">
<h2 class="anchored" data-anchor-id="changes-since-2008">Changes Since 2008</h2>
<ul>
<li>The OTC market has become more regulated with the following objectives:
<ul>
<li>Reduce systemic risk.</li>
<li>Increase transparency.</li>
</ul></li>
<li>In the U.S. and other countries, collateral and clearing of trades through a central clearing house (CCP) are required for all standard OTC contracts.</li>
<li>CCPs must be used to clear standardized transactions between financial institutions in most countries.</li>
<li>All trades must be reported to a central repository.</li>
</ul>
<hr>
</section>
<section id="the-lehman-bankruptcy" class="level2">
<h2 class="anchored" data-anchor-id="the-lehman-bankruptcy">The Lehman Bankruptcy</h2>
<ul>
<li>Lehman Brothers filed for bankruptcy on September 15, 2008, marking the largest bankruptcy in U.S. history.</li>
<li>Lehman was heavily involved in the OTC derivatives markets and faced financial difficulties due to high-risk activities and an inability to roll over its short-term funding.</li>
<li>The firm had hundreds of thousands of outstanding transactions with approximately 8,000 counterparties.</li>
<li>The process of unwinding these transactions has been challenging for both Lehman’s liquidators and their counterparties.</li>
</ul>
<hr>
</section>
<section id="central-clearing" class="level2">
<h2 class="anchored" data-anchor-id="central-clearing">Central Clearing</h2>
<div style="text-align: center;">
<p><img src="img/intro_centralclearing.png" class="img-fluid"></p>
</div>
<center>
<small>Source: <a href="https://www.bis.org/publ/otc_hy2311.htm">Bank for International Settlement</a></small>
</center>
<hr>
</section>
<section id="who-trades-derivatives" class="level2">
<h2 class="anchored" data-anchor-id="who-trades-derivatives">Who trades derivatives?</h2>
<p>Derivatives are traded by various market participants:</p>
<ul>
<li><strong>Corporations</strong>: Hedge future cash flows and manage risks (e.g., fuel futures for airlines).</li>
<li><strong>Financial Institutions</strong>: Manage risks and offer risk management solutions (e.g., interest rate swaps).</li>
<li><strong>Hedge Funds</strong>: Achieve higher returns through leverage and complex strategies.</li>
<li><strong>Market Makers (Dealers)</strong>: Provide liquidity and profit from bid-ask spreads.</li>
<li><strong>Financial Engineers</strong>: Design new derivative products to meet specific needs.</li>
</ul>
<p>Each participant contributes to the market’s depth and liquidity.</p>
</section>
</section>
<section id="measures-of-return-and-risk" class="level1 page-columns page-full">
<h1>Measures of Return and Risk</h1>
<hr>
<section id="simple-return" class="level2">
<h2 class="anchored" data-anchor-id="simple-return">Simple Return</h2>
<p>Suppose a stock price evolves as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>P0 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>P1 <span class="ot">&lt;-</span> <span class="dv">110</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>P2 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>R_t <span class="ot">&lt;-</span> P1 <span class="sc">/</span> P0</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>r_t <span class="ot">&lt;-</span> (P1 <span class="sc">-</span> P0) <span class="sc">/</span> P0</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>log_return <span class="ot">&lt;-</span> <span class="fu">log</span>(P1 <span class="sc">/</span> P0)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">GrossReturn =</span> R_t, <span class="at">NetReturn =</span> r_t, <span class="at">LogReturn =</span> log_return)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$GrossReturn
[1] 1.1

$NetReturn
[1] 0.1

$LogReturn
[1] 0.09531018</code></pre>
</div>
</div>
<hr>
</section>
<section id="compounded-return" class="level2">
<h2 class="anchored" data-anchor-id="compounded-return">Compounded Return</h2>
<p>If a bond pays 10% semiannually, its compounded return is:</p>
<p><span class="math display">\[
\left( 1+ \frac{r}{k} \right)^k -1
\]</span></p>
<p>Continuously compounded return:</p>
<p><span class="math display">\[
\lim_{k \rightarrow \infty} \left( 1+ \frac{r}{k} \right)^k - 1 = e^r -1
\]</span></p>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fl">0.10</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>compounded_return <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">+</span> r <span class="sc">/</span> <span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>continuously_compounded <span class="ot">&lt;-</span> <span class="fu">exp</span>(r) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">CompoundedReturn =</span> compounded_return, <span class="at">ContinuousReturn =</span> continuously_compounded)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$CompoundedReturn
[1] 0.1025

$ContinuousReturn
[1] 0.1051709</code></pre>
</div>
</div>
<p>What is the equivalent c.c. return of Bond XYZ? <span class="math display">\[
e^r = \left( 1+ \frac{10\%}{2} \right)^2
\]</span> <span class="math display">\[
r =  \ln \left( 1+ \frac{10\%}{2} \right)^2 = \ln \frac{P_1}{P_0} = 9.758\%
\]</span></p>
<hr>
</section>
<section id="multi-period-return" class="level2">
<h2 class="anchored" data-anchor-id="multi-period-return">Multi-Period Return</h2>
<p>Again, suppose <span class="math inline">\(P_0=100\)</span>, <span class="math inline">\(P_1=110,\)</span> and <span class="math inline">\(P_2=100\)</span>. 2-year gross return is</p>
<p><span class="math display">\[
R(0,2) = \frac{P_2}{P_0}
\]</span></p>
<p>2-year gross return using 1-year return:</p>
<p><span class="math display">\[
R(0, 2) = \frac{P_2}{P_0} = \frac{P_1}{P_0} \frac{P_2}{P_1} =  R(0,1)R(1,2)
\]</span></p>
<p>cf.&nbsp;Log returns</p>
<hr>
</section>
<section id="annualization" class="level2">
<h2 class="anchored" data-anchor-id="annualization">Annualization</h2>
<p>Typically, returns are expressed as an annual return for comparison.</p>
<p>Monthly return 1% for 12 months:</p>
<p><span class="math display">\[
r = (1+ 0.01)^{12} -1
\]</span></p>
<p>A two-year return 10%: <span class="math display">\[\begin{align*}
&amp;(1+r_1)(1+r_2) = 1.1 \\
&amp;\text{Set  } r_1 = r_2 = r \\
&amp;(1+r)^2 = 1.1 \Rightarrow r= (1.1)^{1/2} -1 = 4.89\%
\end{align*}\]</span></p>
<p>In general, an annualized return <span class="math inline">\(=(1+r_c)^{(365/Days)}-1\)</span>, where <span class="math inline">\(r_c\)</span> is the cumulative (holding-period) return, i.e., <span class="math inline">\(P_t/P_0-1\)</span>.</p>
<hr>
</section>
<section id="arithmetic-vs.-geometric-average-return" class="level2">
<h2 class="anchored" data-anchor-id="arithmetic-vs.-geometric-average-return">Arithmetic vs.&nbsp;Geometric Average Return</h2>
<ul>
<li>Arithmetic Mean Return:</li>
</ul>
<p><span class="math display">\[
r_{AM} = \frac{(r_1+r_2+\dots+r_T)}{T}
\]</span></p>
<ul>
<li>Geometric Mean Return:</li>
</ul>
<p><span class="math display">\[
r_{GM} = \left[ (1+r_1)(1+r_2)\dots(1+r_T)\right]^{1/T}-1
\]</span></p>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>returns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="sc">-</span><span class="fl">0.02</span>, <span class="fl">0.07</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mean_arith <span class="ot">&lt;-</span> <span class="fu">mean</span>(returns)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>mean_geom <span class="ot">&lt;-</span> <span class="fu">prod</span>(<span class="dv">1</span> <span class="sc">+</span> returns)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">length</span>(returns)) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="at">ArithmeticMean =</span> mean_arith, <span class="at">GeometricMean =</span> mean_geom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$ArithmeticMean
[1] 0.05

$GeometricMean
[1] 0.04905428</code></pre>
</div>
</div>
<hr>
</section>
<section id="arithmetic-vs.-geometric-average-return-1" class="level2">
<h2 class="anchored" data-anchor-id="arithmetic-vs.-geometric-average-return-1">Arithmetic vs.&nbsp;Geometric Average Return</h2>
<ul>
<li><p>Fact 1: <span class="math inline">\(r_{AM} \ge r_{GM}\)</span></p></li>
<li><p>Fact 2: The greater the volatility of returns, the greater <span class="math inline">\(r_{AM} - r_{GM}\)</span></p></li>
<li><p>Typically, use <span class="math inline">\(r_{AM}\)</span> as a proxy for the expected return.</p></li>
</ul>
<hr>
</section>
<section id="expected-return" class="level2">
<h2 class="anchored" data-anchor-id="expected-return">Expected Return</h2>
<ul>
<li><p>The probability weighted average return</p></li>
<li><p>In population (when we know the probability function),</p>
<ul>
<li>Discrete: <span class="math inline">\(E(r) = \sum_{i=1}^{n} P(r_i) r_i\)</span></li>
<li>Continuous: <span class="math inline">\(E(r) = \int_{-\infty}^{+\infty} r f(r) dr\)</span>
<ul>
<li><span class="math inline">\(E(ar_1+br_2) = aE(r_1)+bE(r_2)\)</span></li>
</ul></li>
</ul></li>
<li><p>In sample (when we only observe history),</p>
<ul>
<li><span class="math inline">\(\overline{X} = \frac{\sum_{i=1}^{N}x_i}{N}\)</span></li>
</ul></li>
</ul>
<hr>
</section>
<section id="expected-return-1" class="level2">
<h2 class="anchored" data-anchor-id="expected-return-1">Expected Return</h2>
<ul>
<li><p>The expected return is the probability-weighted average of all possible returns.</p></li>
<li><p>In practice, the true probability distribution of returns is often unknown (i.e., from the future). Therefore, we estimate it using historical data.</p></li>
<li><p>Typically, we use the arithmetic average of historical returns to estimate the expected return.</p>
<ul>
<li>Law of Large Numbers: If <span class="math inline">\(X_i\)</span>’s are independent and identically distributed (i.i.d) with mean <span class="math inline">\(\mu\)</span>, then <span class="math inline">\(\frac{1}{N}\sum_{i=1}^{N} X_i \rightarrow \mu\)</span> as <span class="math inline">\(N\)</span> approaches infinity.</li>
</ul></li>
<li><p>The higher the risk, the greater the required rate of return. In equilibrium, the required rate of return should be equal to the expected return.</p></li>
</ul>
<hr>
</section>
<section id="risk-variancestandard-deviation" class="level2">
<h2 class="anchored" data-anchor-id="risk-variancestandard-deviation">Risk: Variance/Standard Deviation</h2>
<ul>
<li>Measures the degree of dispersion of return (around its mean)</li>
</ul>
<p><strong>In population</strong></p>
<ul>
<li><span class="math inline">\(Var(r) = \sigma^2 = E[(r-E(r))^2] = E(r^2)-E(r)^2\)</span>
<ul>
<li><span class="math inline">\(\sigma(r) = \sqrt{var(r)}\)</span></li>
<li><span class="math inline">\(Var(ar) = a^2 Var(r)\)</span></li>
<li><span class="math inline">\(Var(ar_1 + br_2) = a^2 Var(r_1) + b^2 Var(r_2) + 2ab Cov(r_1, r_2)\)</span></li>
</ul></li>
</ul>
<p><strong>In sample</strong></p>
<ul>
<li><span class="math inline">\(s^2 = \hat{\sigma}^2 = \frac{\sum_{i=1}^{N}(x_i - \overline{X})^2}{N-1}\)</span></li>
</ul>
<p><strong>Note</strong></p>
<ul>
<li><span class="math inline">\(Cov(X,Y) = E[(X-E(X))(Y-E(Y))] = E(XY) - E(X)E(Y)\)</span>
<ul>
<li>Correlation: <span class="math inline">\(\rho = cov(X,Y)/\sigma(X)\sigma(Y)\)</span>, <span class="math inline">\(-1 \le \rho \le +1\)</span></li>
<li><span class="math inline">\(Cov(aX+b, eY+f) = ae Cov(X,Y)\)</span></li>
<li><span class="math inline">\(Cov(X+Y, Z) = Cov(X,Z) + Cov(Y,Z)\)</span></li>
</ul></li>
</ul>
<hr>
</section>
<section id="the-reward-to-volatility-sharpe-ratio" class="level2">
<h2 class="anchored" data-anchor-id="the-reward-to-volatility-sharpe-ratio">The Reward-to-Volatility (Sharpe) Ratio</h2>
<p><span class="math display">\[
\frac{E(r) - r_f}{\sigma}
\]</span></p>
<p>Example in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantmod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: xts</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: zoo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: TTR</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PerformanceAnalytics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'PerformanceAnalytics'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    legend</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Tesla (TSLA) stock data from Yahoo Finance</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getSymbols</span>(<span class="st">"TSLA"</span>, <span class="at">src =</span> <span class="st">"yahoo"</span>, <span class="at">from =</span> <span class="st">"2015-01-01"</span>, <span class="at">to =</span> <span class="fu">Sys.Date</span>(), <span class="at">auto.assign =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "TSLA"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute daily returns and remove missing values</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>tsla_returns <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">dailyReturn</span>(<span class="fu">Cl</span>(TSLA)))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute annualized return and standard deviation</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>annualized_return <span class="ot">&lt;-</span> <span class="fu">Return.annualized</span>(tsla_returns, <span class="at">geometric =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>annualized_std_dev <span class="ot">&lt;-</span> <span class="fu">sd</span>(tsla_returns) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">252</span>)  <span class="co"># Convert daily std to annualized</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the latest 3-month Treasury Bill (IRX) as risk-free rate</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="fu">getSymbols</span>(<span class="st">"^IRX"</span>, <span class="at">src =</span> <span class="st">"yahoo"</span>, <span class="at">from =</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="dv">30</span>, <span class="at">to =</span> <span class="fu">Sys.Date</span>(), <span class="at">auto.assign =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: ^IRX contains missing values. Some functions will not work if objects
contain missing values in the middle of the series. Consider using na.omit(),
na.approx(), na.fill(), etc to remove or replace them.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "IRX"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>risk_free_rate <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">last</span>(<span class="fu">Cl</span>(IRX))) <span class="sc">/</span> <span class="dv">100</span>  <span class="co"># Convert from percentage</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute Sharpe Ratio (Annualized)</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>sharpe_ratio <span class="ot">&lt;-</span> (annualized_return <span class="sc">-</span> risk_free_rate) <span class="sc">/</span> annualized_std_dev</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>sharpe_ratio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  daily.returns
Annualized Return     0.5105525</code></pre>
</div>
</div>
<ul>
<li>Risk premium: <span class="math inline">\(E(r) - r_f\)</span> vs.&nbsp;Excess return: <span class="math inline">\(r- r_f\)</span>.</li>
</ul>
<hr>
</section>
<section id="normal-distribution" class="level2">
<h2 class="anchored" data-anchor-id="normal-distribution">Normal Distribution</h2>
<ul>
<li>We commonly assume that returns are normally distributed, <span class="math inline">\(N(\mu, \sigma^2)\)</span></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter_intro_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="normal-distribution-1" class="level2">
<h2 class="anchored" data-anchor-id="normal-distribution-1">Normal Distribution</h2>
<ul>
<li>Probability distribution function, (N(, ^2))</li>
</ul>
<p><span class="math display">\[
f(x) = \frac{1}{\sqrt{2\pi} \sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}}
\]</span></p>
<ul>
<li>Standard normal, (N(0,1) )</li>
</ul>
<p><span class="math display">\[
f(x) = \frac{1}{\sqrt{2\pi} }e^{-\frac{r^2}{2}}
\]</span></p>
<ul>
<li><p>If <span class="math inline">\(Z \sim \phi(0,1)\)</span>, then <span class="math inline">\(X=\mu + \sigma Z \sim N(\mu,\sigma^2)\)</span></p></li>
<li><p>If <span class="math inline">\(X \sim N(\mu_X,\sigma^2_X)\)</span> and <span class="math inline">\(Y \sim N(\mu_Y,\sigma^2_Y)\)</span>, then <span class="math inline">\(X+Y \sim N(\mu_X+\mu_Y,\sigma^2_X +\sigma^2_Y +2cov(X,Y))\)</span></p></li>
</ul>
<hr>
</section>
<section id="standard-normal-random-variables" class="level2">
<h2 class="anchored" data-anchor-id="standard-normal-random-variables">Standard Normal Random Variables</h2>
<ul>
<li>Consider a normal random variable <span class="math inline">\(R\)</span> with <span class="math inline">\(\mu=0\)</span> and <span class="math inline">\(\sigma=1\)</span>. In other words, <span class="math inline">\(R \sim N(0,1)\)</span>. We call it a standard normal random variable.</li>
<li>Suppose that we want to find the probability that <span class="math inline">\(R\)</span> is lower than <span class="math inline">\(x\)</span>. Graphically, this probability is the shadowed area in the figure below:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter_intro_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1920"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="standard-normal-random-variables-1" class="level2">
<h2 class="anchored" data-anchor-id="standard-normal-random-variables-1">Standard Normal Random Variables</h2>
<ul>
<li><p>To find this probability, we calculate</p>
<p><span class="math display">\[
  \text{Prob}(R \leq x) = \int_{-\infty}^x \frac{1}{\sqrt{2\pi}} e^{-\frac{r^2}{2}}dr \equiv \Phi(x).
  \]</span> <span class="math inline">\(\Phi(x)\)</span> is called the cumulative probability distribution function for a standard normal random variable.</p></li>
<li><p>For any <span class="math inline">\(x\)</span>, the value of <span class="math inline">\(\Phi(x)\)</span> can be found using the excel function, (x, TRUE).</p></li>
</ul>
<hr>
</section>
<section id="standard-normal-random-variables-2" class="level2">
<h2 class="anchored" data-anchor-id="standard-normal-random-variables-2">Standard Normal Random Variables</h2>
<ul>
<li><strong><em>Ex.1</em></strong> Suppose that <span class="math inline">\(R_1 \sim \phi (0,1)\)</span>. What is the probability that <span class="math inline">\(R_1\)</span> is larger than 1?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>prob_R1 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"P(R1 &gt; 1) ="</span>, prob_R1, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(R1 &gt; 1) = 0.1586553 </code></pre>
</div>
</div>
<ul>
<li><strong><em>Ex.2</em></strong> Suppose that <span class="math inline">\(R_2 \sim \phi (0.1, 0.2)\)</span>. What is the probability that <span class="math inline">\(R_2\)</span> is equal to or smaller than 0.5?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>prob_R2 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">0.5</span>, <span class="at">mean =</span> <span class="fl">0.1</span>, <span class="at">sd =</span> <span class="fl">0.2</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"P(R2 ≤ 0.5) ="</span>, prob_R2, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(R2 ≤ 0.5) = 0.9772499 </code></pre>
</div>
</div>
<hr>
</section>
<section id="historic-vs.-normal-distribution" class="level2">
<h2 class="anchored" data-anchor-id="historic-vs.-normal-distribution">Historic vs.&nbsp;Normal Distribution</h2>
<ul>
<li>Historical returns often deviate from the normal distribution.</li>
<li>Empirical distributions can exhibit skewness and kurtosis (fat tails).</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'moments'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:PerformanceAnalytics':

    kurtosis, skewness</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "TSLA"</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter_intro_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="log-normal-distribution" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="log-normal-distribution">Log-Normal Distribution</h2>
<ul>
<li><p><span class="math inline">\(X \sim LN(\mu, \sigma^2)\)</span> if <span class="math inline">\(\ln(X) \sim N(\mu, \sigma^2)\)</span></p></li>
<li><p>If a rate of return is normally distributed, security prices follow lognormal distribution.</p>
<ul>
<li><span class="math inline">\(\text{log-return}= \ln R_t = \ln \frac{P_t}{P_{t-1}} = \ln P_t - \ln P_{t-1} \sim N(\cdot)\)</span></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<ul>
<li>By the way,
<ul>
<li><span class="math inline">\(E(X) = e^{\mu + \sigma^2/2}\)</span>. In fact <span class="math inline">\(E(X^n) = e^{n\mu + n^2\sigma^2/2}\)</span></li>
<li><span class="math inline">\(Var(X) = E(X^2)- E(X)^2 = e^{2\mu + 2\sigma^2} - e^{2\mu + \sigma^2} = e^{2\mu + \sigma^2}(e^{\sigma^2}-1)\)</span></li>
</ul></li>
</ul>
</div></div><hr>
</section>
<section id="risk-measures" class="level2">
<h2 class="anchored" data-anchor-id="risk-measures">Risk Measures</h2>
<ul>
<li>Companies must assess and manage risks to avoid business failures.</li>
<li>To understand the risk level of a project or business, we can analyze the probability distribution of possible outcomes.</li>
<li>Several risk measures are commonly used:
<ul>
<li>Standard Deviation</li>
<li>Value at Risk (VaR)</li>
<li>Expected Shortfall</li>
<li><span class="math inline">\(\cdots\)</span></li>
</ul></li>
<li>Each measure focuses on different aspects of the distribution.</li>
</ul>
<hr>
</section>
<section id="standard-deviation" class="level2">
<h2 class="anchored" data-anchor-id="standard-deviation">Standard Deviation</h2>
<ul>
<li><p>Standard deviation measures the level of uncertainty about the outcomes, or the dispersion of probability distribution.</p></li>
<li><p>The larger standard deviation is, the riskier a project.</p></li>
<li><p>A disadvantage of the standard deviation is that it cannot distinguish between upside and downside movement.</p></li>
</ul>
<hr>
</section>
<section id="value-at-risk" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk">Value at Risk</h2>
<ul>
<li>Value at Risk (VaR) is intended to focus on downside risk of the distribution.</li>
<li>VaR is the estimate of the losses that occur with a given probability.
<ul>
<li><strong><em>e.g.</em></strong> How much loss we might have on our portfolio such that there is only a 5% chance that we will do worse?</li>
</ul></li>
</ul>
<div style="text-align: center;">
<p><img src="img/intro_var1.png" class="img-fluid" style="width:50.0%"></p>
</div>
<ul>
<li>That is, we want to find <span class="math inline">\(X\)</span> such that</li>
</ul>
<p><span class="math display">\[
\text{Prob}\left( R \leq X \right) = 0.05
\]</span></p>
<hr>
</section>
<section id="value-at-risk-1" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk-1">Value at Risk</h2>
<ul>
<li>How can we find <span class="math inline">\(X\)</span> satisfying <span class="math inline">\(\Pr\left(R \leq X \right) = 0.05\)</span>, i.e., 95% VaR?</li>
<li>In a special case when <span class="math inline">\(R \sim \phi( \mu,\sigma )\)</span>, we can find <span class="math inline">\(X\)</span> using the Excel function <code>norm.inv()</code>.
<ul>
<li><p>For given <span class="math inline">\(1-p\)</span>, <code>norm.inv(1-p, mean, sigma)</code> is <span class="math inline">\(X\)</span> that satisfies <span class="math inline">\(\text{Prob}\left(R \leq X \right) = 1-p\)</span>.</p>
<ul>
<li>VaR at 5% = <code>norm.inv(0.05,0,1) = -1.645</code></li>
</ul>
<p>(R: <code>qnorm(0.05, mean = 0, sd = 1)</code>)</p>
<ul>
<li>VaR at 10% = <code>norm.inv(0.1,0,1) = -1.282</code></li>
</ul>
<p>(R: <code>qnorm(0.10, mean = 0, sd = 1)</code>)</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="value-at-risk---example-i" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---example-i">Value at Risk - Example I</h2>
<ul>
<li><p>Suppose we own a stock whose return is normally distributed with a mean of 15% and a standard deviation of 30%. What is the 5% Value at Risk (VaR) for this stock?</p>
<p><strong><em>Answer:</em></strong> Let <span class="math inline">\(X\)</span> denote the 5% VaR. Then, <span class="math inline">\(\Pr(R \le X) = \texttt{norm.inv}(0.05, 0.15, 0.30) = -34.3\%\)</span></p>
<p>Alternatively, <span class="math display">\[\begin{align*}
      \text{Prob}\left(R \leq X \right) = \text{Prob}\left( \frac{R - 0.15}{0.3} \leq \frac{X - 0.15}{0.3} \right) = 0.05
  \end{align*}\]</span> Note that <span class="math inline">\(\frac{R - 0.15}{0.3} \sim \phi(0,1)\)</span>, so we can write <span class="math display">\[
  \frac{X - 0.15}{0.3} = \texttt{norm.s.inv}(0.05) = -1.645.
  \]</span> Thus, <span class="math inline">\(X = -34.3\%\)</span>.</p></li>
</ul>
<hr>
</section>
<section id="value-at-risk---example-ii" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---example-ii">Value at Risk - Example II</h2>
<ul>
<li><p><strong><em>Q.</em></strong> A portfolio worth $10 million has a 1-day standard deviation of $200,000 and an approximate mean of zero. Assume that the change is normally distributed. What is the 1-day 99% VaR for our portfolio consisting of a $10 million position in Microsoft? What is the 10-day 99% VaR?</p>
<p><strong><em>Answer:</em></strong> <span class="math inline">\(\texttt{norm.s.inv(0.01)} = -2.326\)</span>, meaning that there is a 1% probability that a normally distributed variable will decrease in value by more than 2.326 standard deviations.</p>
<p>Hence, the 1-day 99% VaR is <span class="math inline">\(2.326 \times \$200,000 = \$465,300\)</span>.</p>
<p>The 10-day 99% VaR is <span class="math inline">\(2.326 \times (\$200,000 \times \sqrt{10}) = \$1,471,300\)</span>.</p></li>
</ul>
<hr>
</section>
<section id="value-at-risk---multiple-stocks" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---multiple-stocks">Value at Risk - Multiple Stocks</h2>
<ul>
<li>Consider a portfolio consisting of <strong><em>n</em></strong> different stocks.</li>
<li>The return on the portfolio is <span class="math display">\[
  R_p = \sum_{i=1}^n w_i R_i
  \]</span> where <span class="math inline">\(w_i\)</span> is the fraction of wealth invested in stock <span class="math inline">\(i\)</span>.</li>
<li>If each stock return is normally distributed, then the portfolio return is also normally distributed.</li>
</ul>
<hr>
</section>
<section id="value-at-risk---multiple-stocks-1" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---multiple-stocks-1">Value at Risk - Multiple Stocks</h2>
<ul>
<li><strong><em>Ex.</em></strong> Consider a portfolio consisting of stock A and stock B. In the portfolio, $5 million are invested in each of stock A and stock B. The return on each stock is normally distributed. Stock A has an expected return of 15% and a standard deviation of 30%. Stock B has an expected return of 18% and a standard deviation of 45%. The correlation between stock A and stock B is 0.4. What is the 10% VaR for the portfolio?
<ul>
<li> When <span class="math inline">\(X \sim \phi(\mu_x, \sigma_x^2)\)</span> and <span class="math inline">\(Y \sim \phi(\mu_y, \sigma_y^2)\)</span>, then <span class="math inline">\(X + Y \sim \phi(\mu_x + \mu_y, \sigma_x^2 + \sigma_y^2 + 2\rho\sigma_x\sigma_y)\)</span></li>
</ul>
<strong><em>Answer:</em></strong>
<ul>
<li>The expected return of the portfolio is: <span class="math display">\[
  \mu_p = 0.5 \times 0.15 + 0.5 \times 0.18 = 0.165 \text{ or } 16.5\%
  \]</span></li>
<li>The standard deviation of the portfolio is: <span class="math display">\[
  \sigma_p = \sqrt{(0.5 \times 0.30)^2 + (0.5 \times 0.45)^2 + 2 \times 0.5 \times 0.5 \times 0.4 \times 0.30 \times 0.45} = 0.315 \text{ or } 31.5\%
  \]</span></li>
<li>The 10% VaR for the portfolio is: <span class="math display">\[
  \text{VaR}_{10\%} = \mu_p + \sigma_p \times \texttt{norm.s.inv}(0.10) = 0.165 + 0.315 \times (-1.282) = -0.239 \text{ or } -23.9\%
  \]</span></li>
<li>Therefore, the 10% VaR for the $10 million portfolio is: <span class="math display">\[
  10,000,000 \times 0.239 = \$2,390,000
  \]</span></li>
</ul></li>
</ul>
<hr>
</section>
<section id="value-at-risk---historical-data" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---historical-data">Value at Risk - Historical Data</h2>
<ul>
<li>We can also calculate the VaR using historical data without assuming a specific distribution.</li>
<li>For example, let’s consider 1-year-long historical data of daily returns for a stock price index.</li>
<li>We aim to estimate the 5% VaR for the next day’s return.</li>
<li>To do this, we assume that the next day’s return will be similar to one of the past year’s returns.</li>
<li>The 5% VaR is then the 5th percentile of these historical returns.</li>
</ul>
<hr>
</section>
<section id="value-at-risk---some-issues-i" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---some-issues-i">Value at Risk - Some Issues I</h2>
<ul>
<li>VaR estimation is based on the assumption that the distribution of future return is the same as (at least similar to) the distribution of past return.</li>
<li>This assumption may not hold in the real world.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stderr">
<pre><code>
######################### Warning from 'xts' package ##########################
#                                                                             #
# The dplyr lag() function breaks how base R's lag() function is supposed to  #
# work, which breaks lag(my_xts). Calls to lag(my_xts) that you type or       #
# source() into this session won't work correctly.                            #
#                                                                             #
# Use stats::lag() to make sure you're not using dplyr::lag(), or you can add #
# conflictRules('dplyr', exclude = 'lag') to your .Rprofile to stop           #
# dplyr from breaking base R's lag() function.                                #
#                                                                             #
# Code in packages is not affected. It's protected by R's namespace mechanism #
# Set `options(xts.warn_dplyr_breaks_lag = FALSE)` to suppress this warning.  #
#                                                                             #
###############################################################################</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:xts':

    first, last</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: ^KS200 contains missing values. Some functions will not work if
objects contain missing values in the middle of the series. Consider using
na.omit(), na.approx(), na.fill(), etc to remove or replace them.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KS200"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in to_period(xx, period = on.opts[[period]], ...): missing values
removed from data</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter_intro_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="value-at-risk---some-issues-ii" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk---some-issues-ii">Value at Risk - Some Issues II</h2>
<ul>
<li>VaR specifies the <strong><em>minimum</em></strong> loss that will occur with a given probability.</li>
<li>VaR tells nothing about the expected magnitude of the loss.</li>
<li>Which is the better between the following two?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div style="text-align: center;">
<p><img src="img/intro_var1.png" class="img-fluid"></p>
</div>
</div><div class="column" style="width:50%;">
<div style="text-align: center;">
<p><img src="img/intro_var2.png" class="img-fluid"></p>
</div>
</div>
</div>
<hr>
</section>
<section id="expected-shortfall" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="expected-shortfall">Expected Shortfall</h2>
<ul>
<li><p><strong><em>Expected Shortfall</em></strong> is another measure to address the shortcoming of VaR.</p>
<ul>
<li>It asks <strong><em>“If things get bad, what is the expected loss?”</em></strong></li>
</ul></li>
<li><p>Suppose that we focus on the loss that will happen with 5% probability. Let <strong><em>V</em></strong> denote the 5% loss (VaR). Then, <span class="math display">\[
  \text{Expected shortfall} = E\left(R | R \leq V \right)
  \]</span></p></li>
<li><p>Also known as Conditional Value at Risk (CVaR)</p></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<ul>
<li>Under normal distribution: <span class="math inline">\(\text{ES} = \mu - \sigma \frac{\phi((V-\mu)/\sigma)}{\Phi((V-\mu)/\sigma)}\)</span></li>
</ul>
</div></div><hr>
</section>
<section id="expected-shortfall-1" class="level2">
<h2 class="anchored" data-anchor-id="expected-shortfall-1">Expected Shortfall</h2>
<ul>
<li>Once historical data are given, we can compute the expected shortfall.
<ul>
<li>In Excel, use <strong><em>“averageif()”</em></strong>.</li>
</ul></li>
<li><strong><em>Ex.</em></strong> Let’s use the 1-year-long data of daily returns on a stock index.
<ul>
<li><strong><em>Q1.</em></strong> What is the expected shortfall with 5% probability?</li>
<li><strong><em>Q2.</em></strong> What is the expected shortfall with 10% probability?</li>
</ul></li>
</ul>
</section>
<section id="value-at-risk-and-expected-shortfall" class="level2">
<h2 class="anchored" data-anchor-id="value-at-risk-and-expected-shortfall">Value at Risk and Expected Shortfall</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PLTR"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>90% Historical VaR: -0.044821 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>90% Expected Shortfall: -0.069202 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter_intro_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="application-bank-regulation" class="level2">
<h2 class="anchored" data-anchor-id="application-bank-regulation">Application: Bank Regulation</h2>
<ul>
<li>VaR and ES are widely used in the financial industry to measure and manage risk.</li>
<li>The Basel Committee on Banking Supervision (BCBS) provides global banking regulations.</li>
<li>Key frameworks include:
<ul>
<li><strong>1996 Amendment</strong>: Required capital = <strong><em>k VaR (1%, 10 days)</em></strong>, where <strong><em>k </em></strong>.</li>
<li><strong>Basel II (2007)</strong>: Suggested <strong><em>VaR(0.1%, 1-year)</em></strong> for risk assessment.</li>
<li><strong>Basel IV (2021)</strong>: Recommended 97.5% expected shortfall (ES) for a comprehensive risk view.</li>
</ul></li>
</ul>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>The ISDA is a trade organization of participants in the market for over-the-counter derivatives. ISDA has created a standardized contract (the ISDA Master Agreement) to govern derivative transactions, which helps to reduce legal and credit risks.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>